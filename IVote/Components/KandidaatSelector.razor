@rendermode InteractiveServer
@inject KandidaatService kandidaatService;

<select multiple class="form-select" @onchange="HandleSelection">
	@foreach(var kandidaat in Kandidaten)
	{
	<option value="@kandidaat.Id">
		@kandidaat.Name
	</option>
	}
	
</select>





@code {

	[Parameter]
	public EventCallback<List<int>> KanditaatSelected{ get; set; }


	List<Kandidaat> Kandidaten => kandidaatService.GetAllKandidaten();
	List<int> SelectedKandidaten = new();

	async Task HandleSelection(ChangeEventArgs e)
	{
		foreach(var a in e.Value as string[])
		{
		}
		if (int.TryParse(e?.Value?.ToString(), out int selectedId))
		{
			SelectedKandidaten.Add(selectedId);
			await KanditaatSelected.InvokeAsync(SelectedKandidaten);
		}
	}
}
